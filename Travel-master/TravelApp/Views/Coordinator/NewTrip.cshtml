@model TravelApp.Models.Coordinator.NewTripModel
@{
    ViewData["Title"] = "New Trip";
    Layout = "_Layout";
}
<!--Comment to keep this open-->
<div class="jumbotron text-center">
    <h1>New Trip</h1>
</div>
<div class="subNav">
    <div class="container">
        <a asp-action="Index" class="btn btn-outline-primary back-btn"><i class="fas fa-arrow-left"></i></a>
    </div>
</div>
<div class="container">
    <form asp-action="NewTrip" method="post">
        <div asp-validation-summary="All" class="text-danger"></div>
        <!-- Field Trip Name -->
        <div class="form-group mb-5">
            <label asp-for="TripName">Trip Name</label>
            <input asp-for="TripName" class="form-control" required>
            <span asp-validation-for="TripName" class="text-danger"></span>
        </div>

        <!-- Educational Objective -->
        <div class="form-group mb-5">
            <label asp-for="EducationalObjective">Educational Objective</label>
            <textarea asp-for="EducationalObjective" class="form-control" rows="3" required></textarea>
            <span asp-validation-for="EducationalObjective" class="text-danger"></span>
        </div>

        <div class="form-group mb-5">
            <label asp-for="MyListAsString">Custom Questions <i>(seperate each question by pressing enter)</i> </label>
            <textarea asp-for="MyListAsString" class="form-control" rows="2" required></textarea>
            <span asp-validation-for="MyListAsString" class="text-danger"></span>
        </div>

        <!-- Student Organization -->
        <div class="form-group mb-5">
            <label asp-for="StudentOrganization">Student Organization</label>
            <input asp-for="StudentOrganization" class="form-control" required>
            <span asp-validation-for="StudentOrganization" class="text-danger"></span>
        </div>

        <!-- Destination -->
        <div class="form-group mb-5">
            <label asp-for="Destination">Destination</label>
            <input asp-for="Destination" class="form-control" aria-describedby="destinationOrganization" placeholder="Site, Company, Organization, etc.">
            <span asp-validation-for="Destination" class="text-danger"></span>
        </div>

        <!-- Destination: Address/City -->
        <div class="form-row">
            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="AddressLine1">Address</label>
                <input asp-for="AddressLine1" class="form-control">
                <span asp-validation-for="AddressLine1" class="text-danger"></span>
            </div>

            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="City">City</label>
                <input asp-for="City" class="form-control">
                <span asp-validation-for="City" class="text-danger"></span>
            </div>
        </div>

        <!-- Destination: State/Zip/Country -->
        <div class="form-row">
            <div class="form-group col-md-4 col-sm-12 mb-5">
                <label asp-for="State">State</label>
                <select asp-for="State" class="form-control">
                    <option selected>Choose...</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select>
                <span asp-validation-for="State" class="text-danger"></span>
            </div>

            <div class="form-group col-md-4 col-sm-12 mb-5">
                <label asp-for="PostalCode">Postal Code</label>
                <input asp-for="PostalCode" class="form-control">
                <span asp-validation-for="PostalCode" class="text-danger"></span>
            </div>

            <div class="form-group col-md-4 col-sm-12 mb-5">
                <label asp-for="Country">Country</label>
                <input asp-for="Country" class="form-control">
                <span asp-validation-for="Country" class="text-danger"></span>
            </div>
        </div>

        <!-- Course -->
        <div class="form-row">
            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="Crn">CRN</label>
                <input asp-for="Crn" pattern=".{0,5}" class="form-control" aria-describedby="courseCrn" placeholder="CRN"  required title="Max length of 5">
                <span asp-validation-for="Crn" class="text-danger"></span>
            </div>

            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="CourseTitle">Course Title</label>
                <input asp-for="CourseTitle" class="form-control" aria-describedby="courseTitle" placeholder="Course Title">
                <span asp-validation-for="CourseTitle" class="text-danger"></span>
            </div>
        </div>

        <!-- Transportation -->
        @*<div class="form-group">
            <label>Transportation</label>

            <div class="form-check">
                <input asp-for="@Model.TransportationId" class="form-check-input" type="radio" value="1" checked>
                <label asp-for="@Model.TransportationId" class="form-check-label">Private Car</label>
            </div>
            <div class="form-inline">
                <div class="form-check">
                    <input asp-for="@Model.TransportationId" class="form-check-input" type="radio" value="2">
                    <label asp-for="@Model.TransportationId" class="form-check-label">Bus </label>
                </div>
                <div class="form-group">
                    <!-- TODO: Show/enable if bus-->
                    <!-- <label for="teachingSubstituteHours">Destination</label> -->
                    <input type="text" disabled class="form-control" aria-describedby="transportationBusAgency" placeholder="Name of Rental Agency">
                </div>
            </div>
            <div class="form-check">
                <input asp-for="@Model.TransportationId" class="form-check-input" type="radio" value="3">
                <label asp-for="@Model.TransportationId" class="form-check-label">WCTC Van</label>
            </div>
            <div class="form-inline">
                <div class="form-check">
                    <input asp-for="@Model.TransportationId" class="form-check-input" type="radio" value="4">
                    <label asp-for="@Model.TransportationId" class="form-check-label">Other </label>
                </div>
                <div class="form-group">
                    <!-- TODO: Show/enable if other-->
                    <!-- <label for="teachingSubstituteHours">Destination</label> -->
                    <!--<input type="text" disabled class="form-control" id="transportationOtherText" aria-describedby="transportationOtherText" placeholder="Specify">-->
                </div>
            </div>
        </div>*@

        <!-- Times -->
        <div class="form-row">
            <div class="form-group col-md-6 cols-sm-12 mb-5">
                <label asp-for="DateDeparting">Date Departing</label>
                <input type="date" asp-for="DateDeparting" class="form-control" onfocusout="dateCheck()" required>
                <span asp-validation-for="DateDeparting" class="text-danger"></span>
            </div>

            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="DateReturning">Date Returning</label>
                <input type="date" asp-for="DateReturning" class="form-control" onblur="dateCheck()" required>
                <span asp-validation-for="DateReturning" class="text-danger"></span>
            </div>
        </div>

        <!-- Cost -->
        <div class="form-row">
            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="CostToDistrict">Cost to District</label>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">$</span>
                    </div>

                    <input asp-for="CostToDistrict" class="form-control" required>
                    @*<div class="input-group-append">
                        <span class="input-group-text">.00</span>
                    </div>*@
                    <span asp-validation-for="CostToDistrict" class="text-danger"></span>
                </div>
            </div>

            <div class="form-group col-md-2 col-sm-4 text-center">
                <label>Funds Available</label>
                <div class="form-check form-check-inline">
                    <input onclick="fundsAvail()" asp-for="FundsAvailable" class="form-check-input" />
                    <span asp-validation-for="FundsAvailable" class="text-danger"></span>
                </div>
            </div>

            <div class="form-group col-md-4 col-sm-8 mb-5" id="acctNum" style="display: none;">
                <label asp-for="AccountNumber">Account Number</label>
                <input asp-for="AccountNumber" class="form-control" aria-describedby="account">
                <span asp-validation-for="AccountNumber" class="text-danger"></span>
            </div>
        </div>

        <!-- Teaching Substitute -->
        <div class="form-row">
            <div class="form-group col-md-6 col-sm-12 mb-5">
                <label asp-for="TeachingSubNeeded">Teaching Substitute Needed?</label>
                <select asp-for="TeachingSubNeeded" class="form-control" onchange="subNeeded(this.value)">
                    <option value="True">Yes</option>
                    <option value="False" selected>No</option>
                </select>
                <span asp-validation-for="TeachingSubNeeded" class="text-danger"></span>
            </div>

            <div class="form-group col-md-6 col-sm-12 mb-5" id="subHours" style="display: none;">
                <label asp-for="TeachingSubNeeded">Sub Number of Hours</label>
                <input asp-for="SubNoOfHours" class="form-control" aria-describedby="subHours" placeholder="Hours">
                <span asp-validation-for="SubNoOfHours" class="text-danger"></span>
            </div>

            @*<div class="form-inline">
                <div class="form-check">
                    <label asp-for="TeachingSubNeeded">Teaching Substitute Needed?&nbsp;</label>
                    <select asp-for="TeachingSubNeeded" class="form-control" onchange="subNeeded(this.value)">
                        <option value="True">Yes</option>
                        <option value="False" selected>No</option>
                    </select>
                    <span asp-validation-for="TeachingSubNeeded" class="text-danger"></span>
                </div>
                <div class="form-group" id="subHours" style="display: none;">
                    <input asp-for="SubNoOfHours" class="form-control" aria-describedby="subHours" placeholder="Num of Hours">
                    <span asp-validation-for="SubNoOfHours" class="text-danger"></span>
                </div>
            </div>*@
        </div>


        <div>
            <ul>
                <li>Include a list of <strong>participating</strong> students and chaperones <strong>AND</strong> a signed Release of Liability Form for each student and chaperone.</li>
                <li>This form must be filed with the Associate Dean <strong>three weeks</strong> before the activity.</li>
                <li>This form must be completed for any activity in which students leave the campus for instructional purposes.</li>
                <li>If the trip conflicts with another scheduled class, the conflict must be cleared with the appropriate instructor.</li>
                <li><strong>Club Advisors:</strong>  Please deliver all documents to Jonathan Pedraza, C-121, per Club Advisor Travel Checklist.</li>
            </ul>
        </div>
        <br />
        <div>
            Date of submission: @ViewBag.Today.ToShortDateString()
        </div>
        <br />
        <button type="submit" class="btn btn-outline-primary">Submit</button>
        <a asp-action="Index" class="btn btn-outline-secondary">Cancel</a>
        <br /><br />
        <div>
            Any questions, plese contact Bruce Neumann in C-217J or email at <a href="mailto: bneumann6@wctc.edu">bneumann6@wctc.edu</a>
        </div>
    </form>
</div>

<script>
    
    function dateCheck()
    {
        var returnDate = document.getElementById("DateReturning").value;
        var departDate = document.getElementById("DateDeparting").value;
        if (departDate > returnDate && returnDate != "")
        {
            document.getElementById("DateReturning").value = "";
            alert("Date Returning must be greater than Date Departing", returnDate);
            console.log(returnDate);
        }
    }
    //function for funds available checkbox and field
    function fundsAvail() {
        // Get the checkbox
        var funds = document.getElementById("FundsAvailable");
        // Get the output text
        var acct = document.getElementById("acctNum");

        // If the checkbox is checked, display the output text
        if (funds.checked == true) {
            acct.style.display = "block";
        }
        else {
            acct.style.display = "none";
        }
    }

    //function for teaching sub needed and sub no of hours field
    function subNeeded(val) {
        if (val == "True") {
            document.getElementById("subHours").style.display = "block";
        }
        else {
            document.getElementById("subHours").style.display = "none";
        }
    }
</script>
